{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}{% if form.instance.pk %}Editar{% else %}Nova{% endif %} Notícia - AMUV{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-12 px-8 bg-white shadow-2xl rounded-3xl">
    <h1 class="text-4xl font-bold text-gray-800 mb-10 text-center">
        {% if form.instance.pk %}Editar Notícia{% else %}Nova Notícia{% endif %}
    </h1>

    <form method="post" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}

        <!-- Título -->
        <div>
            <label for="{{ form.titulo.id_for_label }}" class="block text-lg font-semibold text-gray-700 mb-2">Título *</label>
            {{ form.titulo|add_class:"w-full border-gray-300 rounded-xl shadow-sm focus:ring-red-600 focus:border-red-600 text-gray-900 text-base" }}
            {% include "forms/field_errors.html" with field=form.titulo %}
        </div>

        <!-- Subtítulo -->
        <div>
            <label for="{{ form.subtitulo.id_for_label }}" class="block text-lg font-semibold text-gray-700 mb-2">Subtítulo</label>
            {{ form.subtitulo|add_class:"w-full border-gray-300 rounded-xl shadow-sm focus:ring-red-600 focus:border-red-600 text-gray-900 text-base" }}
            {% include "forms/field_errors.html" with field=form.subtitulo %}
        </div>

        <!-- Resumo -->
        <div>
            <label for="{{ form.resumo.id_for_label }}" class="block text-lg font-semibold text-gray-700 mb-2">Resumo</label>
            {{ form.resumo|add_class:"w-full border-gray-300 rounded-xl shadow-sm focus:ring-red-600 focus:border-red-600 text-gray-900 text-base h-32" }}
            {% include "forms/field_errors.html" with field=form.resumo %}
            <p class="text-sm text-gray-400 mt-1">Opcional: pequeno resumo que será exibido em listas ou prévias.</p>
        </div>

        <!-- Conteúdo -->
        <div>
            <label for="{{ form.conteudo.id_for_label }}" class="block text-lg font-semibold text-gray-700 mb-2">Conteúdo *</label>
            {{ form.conteudo|add_class:"w-full border-gray-300 rounded-xl shadow-sm focus:ring-red-600 focus:border-red-600 text-gray-900 text-base h-60" }}
            {% include "forms/field_errors.html" with field=form.conteudo %}
        </div>

        <!-- Imagem de Capa -->
        <div>
            <label for="{{ form.imagem_capa.id_for_label }}" class="block text-lg font-semibold text-gray-700 mb-2">Imagem de Capa</label>
            {{ form.imagem_capa|add_class:"w-full border-gray-300 rounded-xl shadow-sm focus:ring-red-600 focus:border-red-600 text-gray-900 text-base" }}
            {% include "forms/field_errors.html" with field=form.imagem_capa %}
            <p class="text-sm text-gray-400 mt-1">Formatos aceitos: JPG, PNG. Tamanho recomendado: 1200x600px.</p>
        </div>

        <!-- Botão de Ação -->
        <div class="pt-6 text-center">
            <button type="submit" class="inline-flex items-center px-8 py-3 bg-red-600 hover:bg-red-700 text-white text-lg font-bold rounded-full shadow-lg transition duration-300">
                {% if form.instance.pk %}
                    <i class="fas fa-save mr-2"></i> Salvar Alterações
                {% else %}
                    <i class="fas fa-upload mr-2"></i> Publicar Notícia
                {% endif %}
            </button>
        </div>

    </form>
</div>
{% endblock %}
