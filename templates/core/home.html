{% extends 'base.html' %}
{% load static %}
{% block title %}Início - AMUV{% endblock %}

{% block content %}

<!-- Hero Section com Gradiente e Imagem de Fundo -->
<section class="relative py-24 bg-gradient-to-br from-red-700 to-red-900 overflow-hidden">
  <div class="absolute inset-0 opacity-20" style="background-image: url('{% static 'img/pattern-bg.png' %}'); background-repeat: repeat;"></div>
  <div class="max-w-7xl mx-auto px-6 text-center relative z-10">
    <img src="{% static 'shared/img/logo_300px.webp' %}" alt="Logo AMUV" class="w-32 h-32 mx-auto rounded-full border-4 border-white shadow-lg mb-6">
    <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Bem-vindo à AMUV</h1>
    <p class="text-lg text-white/90 max-w-2xl mx-auto">
      Associação dos Moradores Unidos por Vermelhos. 
      Promovemos cidadania, cultura e desenvolvimento para construir uma comunidade mais forte e unida!
    </p>
    <a href="{% url 'core:sobre' %}" class="mt-8 inline-block bg-white text-red-700 hover:bg-gray-100 font-semibold py-3 px-8 rounded-full transition transform hover:scale-105">
      Conheça-nos
    </a>
  </div>
</section>

<!-- Destaques: Notícias e Eventos com Design Aprimorado -->
<section class="py-16 bg-gray-100">
  <div class="max-w-7xl mx-auto px-6">
    <div class="grid md:grid-cols-2 gap-12">

      <!-- Últimas Notícias -->
      <div>
        <div class="flex items-center mb-8">
          <div class="w-12 h-1 bg-red-600 mr-4"></div>
          <h3 class="text-2xl font-bold text-gray-800">Últimas Notícias</h3>
        </div>
        
        <div class="space-y-6">
          {% for noticia in noticias|slice:":3" %}
          <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition border-l-4 border-red-600">
            <h4 class="text-xl font-semibold text-gray-800 mb-2">{{ noticia.titulo }}</h4>
            <p class="text-gray-600 mb-3">{{ noticia.resumo|truncatewords:20 }}</p>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-500">{{ noticia.data_publicacao|date:"d/m/Y" }}</span>
              <a href="{% url 'noticias:detalhe' noticia.slug %}" class="text-red-600 font-semibold hover:underline flex items-center">
                Leia mais
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>
          {% empty %}
          <div class="bg-white p-6 rounded-lg shadow text-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
            </svg>
            <p class="text-gray-600">Nenhuma notícia publicada ainda.</p>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Próximos Eventos -->
      <div>
        <div class="flex items-center mb-8">
          <div class="w-12 h-1 bg-red-600 mr-4"></div>
          <h3 class="text-2xl font-bold text-gray-800">Próximos Eventos</h3>
        </div>
        
        <div class="space-y-6">
          <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition border-l-4 border-red-600">
            <div class="flex">
              <div class="mr-4 bg-red-100 rounded-lg p-3 text-center min-w-[60px]">
                <span class="block text-lg font-bold text-red-700">ABR</span>
                <span class="text-sm text-red-600">2025</span>
              </div>
              <div>
                <h4 class="text-xl font-semibold text-gray-800 mb-2">Paixão de Cristo 2025</h4>
                <p class="text-gray-600 mb-3">Em abril, venha prestigiar a maior encenação religiosa da nossa comunidade!</p>
                <a href="#" class="text-red-600 font-semibold hover:underline flex items-center">
                  Saiba mais
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition border-l-4 border-red-600">
            <div class="flex">
              <div class="mr-4 bg-red-100 rounded-lg p-3 text-center min-w-[60px]">
                <span class="block text-lg font-bold text-red-700">JUN</span>
                <span class="text-sm text-red-600">2025</span>
              </div>
              <div>
                <h4 class="text-xl font-semibold text-gray-800 mb-2">Ação Social de Inverno</h4>
                <p class="text-gray-600 mb-3">Campanha de arrecadação de agasalhos para famílias em situação de vulnerabilidade.</p>
                <a href="#" class="text-red-600 font-semibold hover:underline flex items-center">
                  Saiba mais
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Galeria com Carrossel Automático Aprimorado -->
<section class="py-16 bg-gradient-to-r from-red-50 to-gray-100 relative overflow-hidden">
  <div class="absolute inset-0 opacity-5" style="background-image: url('{% static 'img/pattern-bg.png' %}'); background-repeat: repeat;"></div>
  <div class="max-w-7xl mx-auto px-6 relative z-10">
    <div class="text-center mb-12">
      <h3 class="text-3xl font-bold text-gray-800 mb-2">Galeria do Espetáculo</h3>
      <div class="w-24 h-1 bg-red-600 mx-auto"></div>
      <p class="mt-4 text-gray-600 max-w-2xl mx-auto">Momentos marcantes da nossa tradicional apresentação da Paixão de Cristo</p>
    </div>

    <!-- Swiper -->
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">

        <!-- Slides -->
        {% for imagem in imagens_swiper %}
        <div class="swiper-slide">
          <div class="relative group">
            <img src="{{ imagem.url }}" alt="{{ imagem.descricao }}" class="rounded-xl w-full h-64 md:h-80 object-cover shadow-lg">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center p-6">
              <p class="text-white font-medium">{{ imagem.descricao }}</p>
            </div>
          </div>
        </div>
        {% endfor %}

      </div>

      <!-- Paginação e Botões -->
      <div class="swiper-pagination mt-8"></div>
      <div class="swiper-button-next text-red-600"></div>
      <div class="swiper-button-prev text-red-600"></div>
    </div>
    
    <div class="text-center mt-8">
      <a href="#" class="inline-block bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-8 rounded-full transition transform hover:scale-105 shadow-md">
        Ver galeria completa
      </a>
    </div>

  </div>
</section>

<!-- Sobre a AMUV com Design Aprimorado -->
<section class="py-20 bg-white relative overflow-hidden">
  <div class="absolute inset-0 bg-red-50 skew-y-3 transform origin-bottom-right"></div>
  <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-12 relative z-10">

    <div class="flex-1 md:order-2">
      <img src="{% static 'shared/img/logo.jpg' %}" alt="Sobre a AMUV" class="rounded-xl shadow-xl transform rotate-2 hover:rotate-0 transition-transform duration-300">
    </div>

    <div class="flex-1 md:order-1">
      <div class="flex items-center mb-6">
        <div class="w-12 h-1 bg-red-600 mr-4"></div>
        <h3 class="text-3xl font-bold text-gray-800">Quem somos?</h3>
      </div>
      <p class="text-gray-700 text-lg mb-6 leading-relaxed">
        Desde 2009, a AMUV promove a fé, a cultura e a solidariedade, com projetos que impactam positivamente a vida da nossa comunidade. Nossa missão é fortalecer os laços comunitários através de ações culturais, sociais e educativas.
      </p>
      <div class="flex items-center space-x-4">
        <a href="{% url 'core:sobre' %}" class="inline-block bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-full transition shadow-md">
          Nossa história
        </a>
        <a href="#" class="inline-block border-2 border-red-600 text-red-600 hover:bg-red-50 font-semibold py-3 px-6 rounded-full transition">
          Participe
        </a>
      </div>
    </div>

  </div>
</section>


<!-- Iniciar o Swiper com opções aprimoradas -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  new Swiper('.mySwiper', {
    loop: true,
    autoplay: {
      delay: 4000,
      disableOnInteraction: false,
    },
    effect: "coverflow",
    grabCursor: true,
    centeredSlides: true,
    slidesPerView: 1,
    spaceBetween: 30,
    coverflowEffect: {
      rotate: 20,
      stretch: 0,
      depth: 200,
      modifier: 1,
      slideShadows: true,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    breakpoints: {
      640: {
        slidesPerView: 1.5
      },
      768: {
        slidesPerView: 2
      },
      1024: {
        slidesPerView: 3
      }
    }
  });
});
</script>

{% endblock %}